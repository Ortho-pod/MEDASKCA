<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MEDASKCA – Theatre Ops, Reimagined</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Poppins:wght@700;800&display=swap" rel="stylesheet">
<style>
  /* THEME TOKENS */
  :root{
    --bg:#0b0d10;
    --surface:#0e1116;
    --text:#eaf0f6;
    --muted:#b9c4d2;
    --muted-strong:#d7dee9;
    --line:#1e2430;

    --teal:#14b8a6;
    --blue:#3b82f6;
    --amber:#fbbf24;
    --green:#10b981;

    --card:rgba(255,255,255,.02);
    --shadow:0 14px 30px rgba(0,0,0,.45);

    --pill-bg:rgba(255,255,255,.06);
    --pill-border:rgba(255,255,255,.12);
  }
  [data-theme="light"]{
    --bg:#f7fafc;
    --surface:#ffffff;
    --text:#0c121a;
    --muted:#5b6573;
    --muted-strong:#2b3240;
    --line:#d9e1ea;
    --card:rgba(0,0,0,.03);
    --shadow:0 10px 22px rgba(0,0,0,.12);

    --pill-bg:rgba(0,0,0,.04);
    --pill-border:rgba(0,0,0,.10);
  }

  *{box-sizing:border-box}
  body{margin:0; background:var(--bg); color:var(--text); font:15px/1.55 Inter,system-ui,Segoe UI,Roboto,Arial}
  a{color:inherit; text-decoration:none}
  .wrap{max-width:1120px; margin:auto; padding:0 16px}

  /* FLOATING THEME BUTTON — realistic bulb (image sprite left=OFF, right=ON) */
  .theme-toggle{
    position:fixed; top:14px; right:16px; z-index:50;
    width:64px; height:64px; border-radius:18px;
    display:grid; place-items:center; cursor:pointer;
    background:var(--surface); border:1px solid var(--line); box-shadow:var(--shadow);
  }
  .theme-toggle:focus-visible{outline:2px solid var(--blue); outline-offset:2px}
  .theme-toggle::after{
    content:""; position:absolute; inset:8px; border-radius:14px;
    background-image:url('bulbs-toggle.png');
    /* Show half the image; assume OFF bulb on the left, ON bulb on the right */
    background-size:200% 100%;
    background-position:0% 50%;   /* dark mode → show OFF bulb (left half) */
    filter:saturate(.98) contrast(1.02) drop-shadow(0 6px 10px rgba(0,0,0,.25));
  }
  [data-theme="light"] .theme-toggle::after{ background-position:100% 50%; } /* light mode → ON bulb (right half) */

  /* HERO */
  .hero{
    position:relative; height:92vh; min-height:660px; display:grid; place-items:center; text-align:center; isolation:isolate; overflow:hidden;
    background: radial-gradient(120% 100% at 50% 0%, #0c1219 0%, var(--bg) 60%, var(--bg) 100%);
  }
  [data-theme="light"] .hero{background: radial-gradient(120% 100% at 50% 0%, #eaf3ff 0%, var(--bg) 60%, var(--bg) 100%);}
  .hero__overlay{position:absolute; inset:0; z-index:-1;
    background:radial-gradient(70% 60% at 50% 60%, rgba(0,0,0,.45) 0%, rgba(0,0,0,.12) 60%, rgba(0,0,0,.55) 100%);}
  [data-theme="light"] .hero__overlay{background:radial-gradient(70% 60% at 50% 60%, rgba(0,0,0,.08) 0%, rgba(0,0,0,.03) 60%, rgba(0,0,0,.08) 100%);}

  /* CRYSTAL-SPHERE LOGO */
  .logo-sphere{position:relative; display:inline-grid; place-items:center; width:clamp(190px, 22vw, 300px); aspect-ratio:1/1}
  .logo-sphere .logo-cinema{position:relative; width:100%; height:100%; border-radius:50%; overflow:hidden; box-shadow:var(--shadow)}
  .logo-sphere .logo-cinema img{width:100%; height:100%; object-fit:cover; display:block}
  /* Aura glow */
  .logo-sphere::before{
    content:""; position:absolute; inset:-22%; border-radius:50%;
    background:radial-gradient(55% 55% at 50% 50%, rgba(20,184,166,.65), rgba(59,130,246,.48) 60%, transparent 74%);
    filter:blur(40px); mix-blend-mode:screen; animation:glowPulse 3.4s ease-in-out infinite;
  }
  /* Specular highlight rolling around */
  .logo-sphere::after{
    content:""; position:absolute; inset:8%; border-radius:50%;
    background:
      radial-gradient(60% 40% at 30% 20%, rgba(255,255,255,.30) 0%, rgba(255,255,255,0) 60%),
      conic-gradient(from 180deg at 50% 50%, rgba(255,255,255,.18), rgba(255,255,255,0) 25%, rgba(255,255,255,.22) 40%, rgba(255,255,255,0) 65%, rgba(255,255,255,.16) 75%, rgba(255,255,255,0) 100%);
    mix-blend-mode:screen; filter:blur(8px); animation:specRoll 8s linear infinite; pointer-events:none;
  }
  @keyframes glowPulse{0%,100%{transform:scale(1); opacity:.9; filter:blur(38px)} 50%{transform:scale(1.08); opacity:1; filter:blur(46px)}}
  @keyframes specRoll{0%{transform:rotate(0deg)} 100%{transform:rotate(360deg)}}

  .hero h1{font:800 clamp(30px, 6vw, 64px)/1.05 Poppins,Inter; letter-spacing:-.02em; margin:14px 0 8px}
  .gradient-text{background:linear-gradient(135deg,var(--teal),var(--blue)); -webkit-background-clip:text; background-clip:text; color:transparent}
  .hero p.lead{max-width:920px; margin:8px auto 18px; color:var(--muted); font-size:clamp(14px,2.2vw,18px)}
  .cta{display:inline-block; padding:14px 22px; border-radius:999px; font-weight:800; background:linear-gradient(135deg,var(--teal),var(--blue)); color:#061018;
       box-shadow:0 10px 24px rgba(20,184,166,.25), 0 8px 22px rgba(59,130,246,.18); transition:transform .15s ease, box-shadow .15s ease}
  .cta:hover{transform:translateY(-2px); box-shadow:0 14px 28px rgba(20,184,166,.28), 0 12px 28px rgba(59,130,246,.22)}
  .hero__glow{position:absolute; left:50%; bottom:-120px; width:880px; height:310px; transform:translateX(-50%);
    background:radial-gradient(50% 50% at 50% 50%, rgba(20,184,166,.35), rgba(59,130,246,.28) 55%, transparent 70%); filter:blur(52px); z-index:-1}

  /* STATIC AVATAR + ROTATING TEXT */
  .callout{margin-top:18px; display:flex; align-items:center; gap:18px; padding:12px 14px; border-radius:18px;
    background: radial-gradient(120% 120% at 50% 120%, rgba(20,184,166,.08), rgba(59,130,246,.08) 60%, transparent 70%)}
  .avatar-fixed{width:240px; height:240px; flex:0 0 240px; background:transparent}
  .avatar-fixed img{width:100%; height:100%; object-fit:contain; display:block; background:transparent}
  .slides{position:relative; min-height:145px; flex:1; text-align:left}
  .slide{position:absolute; inset:0; opacity:0; transform:translateY(10px); transition:opacity .45s ease, transform .45s ease}
  .slide.is-on{opacity:1; transform:translateY(0)}
  .slide .kicker{font-weight:800; font-size:14px; letter-spacing:.08em; text-transform:uppercase; color:var(--muted-strong)}
  .slide h3{margin:4px 0 6px; font:800 22px/1.15 Poppins,Inter}
  .slide p{margin:0; color:var(--muted)}
  .badge,.fx{display:none!important}

  /* LIVE OPS */
  .liveops{margin:18px auto 2px; padding:10px 0; border-top:1px solid var(--line); border-bottom:1px solid var(--line); overflow:hidden}
  .ticker{display:flex; gap:28px; white-space:nowrap; will-change:transform; animation:ticker 22s linear infinite}
  .tick{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; background:var(--pill-bg); border:1px solid var(--pill-border)}
  .dot{width:7px; height:7px; border-radius:50%; background:var(--teal)}
  .tick .time{font-weight:700}
  @keyframes ticker{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
  .liveops:hover .ticker{animation-play-state:paused}

  /* SECTIONS */
  section{padding:36px 0}
  .section-head{text-align:center; margin:0 0 22px}
  .section-head h2{font:800 28px Poppins,Inter}
  .section-head p{color:var(--muted)}

  /* OUTCOMES */
  .stats{display:grid; grid-template-columns:repeat(3,1fr); gap:16px}
  .stat{background:var(--card); border:1px solid var(--line); border-radius:16px; padding:16px; text-align:center}
  .stat strong{display:block; font:800 36px/1 Poppins,Inter; margin-bottom:6px; background:linear-gradient(135deg,var(--teal),var(--blue)); -webkit-background-clip:text; background-clip:text; color:transparent}
  .stat span{color:var(--muted)}

  /* SOLUTIONS TABS — inactive pills are lighter */
  .tabs{display:flex; gap:8px; flex-wrap:wrap; justify-content:center; margin-bottom:14px}
  .tab{
    padding:10px 14px; border:1px solid var(--pill-border); background:var(--pill-bg);
    border-radius:999px; cursor:pointer; font-weight:700; color:var(--muted-strong);
    transition:filter .15s ease, transform .15s ease;
  }
  .tab:hover{filter:brightness(1.08)}
  .tab[aria-selected="true"]{background:linear-gradient(135deg,var(--teal),var(--blue)); color:#061018; border-color:transparent}
  .panels{position:relative; min-height:160px}
  .panel{position:absolute; inset:0; opacity:0; transform:translateY(8px); transition:opacity .35s ease, transform .35s ease}
  .panel.is-on{opacity:1; transform:translateY(0)}
  .panel .grid{display:grid; grid-template-columns:1.2fr .8fr; gap:18px}

  /* GRID + CARDS */
  .grid{display:grid; grid-template-columns:repeat(3,1fr); gap:16px}
  .card{background:var(--card); border:1px solid var(--line); border-radius:16px; padding:16px; min-height:170px; transform:translateY(16px); opacity:0; transition:transform .45s ease, opacity .45s ease, border-color .2s ease}
  .card:hover{border-color:#2b3342}
  .card h3{margin:0 0 6px}
  .card p{margin:0; color:var(--muted)}
  .card.in{transform:translateY(0); opacity:1}

  .two{display:grid; grid-template-columns:1fr 1fr; gap:16px}
  .list{display:grid; gap:8px}
  .list li{list-style:none; padding-left:14px; position:relative; color:var(--muted)}
  .list li::before{content:""; position:absolute; left:0; top:.6em; width:6px; height:6px; border-radius:50%; background:linear-gradient(135deg,var(--teal),var(--blue))}

  .quotes{display:grid; grid-template-columns:repeat(3,1fr); gap:16px}
  .quote{background:var(--card); border:1px solid var(--line); border-radius:16px; padding:16px; font-style:italic}
  .quote footer{margin-top:10px; font-style:normal; color:var(--muted)}

  details{background:var(--card); border:1px solid var(--line); border-radius:12px; padding:12px 14px}
  details+details{margin-top:8px}
  summary{cursor:pointer; font-weight:700}

  .footer{background:var(--surface); border-top:1px solid var(--line); padding:28px 0}
  .footer-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:18px}
  .footer a{display:block; margin:4px 0; color:#7a8595}
  .footer a:hover{color:var(--text)}

  /* RESPONSIVE */
  @media (max-width:1000px){ .panel .grid{grid-template-columns:1fr} }
  @media (max-width:900px){
    .grid{grid-template-columns:repeat(2,1fr)}
    .stats{grid-template-columns:repeat(2,1fr)}
    .avatar-fixed{width:200px; height:200px}
  }
  @media (max-width:560px){
    .callout{flex-direction:column; align-items:flex-start}
    .avatar-fixed{width:150px; height:150px}
    .grid,.stats{grid-template-columns:1fr}
  }

  /* REDUCED MOTION */
  @media (prefers-reduced-motion: reduce){
    .logo-sphere::before, .logo-sphere::after, .ticker{animation:none !important}
    .slide, .panel{transition:none}
  }
</style>
</head>
<body>

<!-- Floating theme toggle using realistic bulb image -->
<button class="theme-toggle" id="themeBtn" aria-label="Switch to light theme" aria-pressed="false" title="Toggle theme"></button>

<!-- HERO -->
<section class="hero" id="home" aria-label="Hero">
  <div class="hero__overlay"></div>
  <div class="wrap">
    <div class="logo-sphere" aria-hidden="true">
      <div class="logo-cinema"><img src="logo-medaskca.png" alt="MEDASKCA logo"></div>
    </div>

    <h1>Make your theatres run <span class="gradient-text">smarter</span> with MEDASKCA</h1>
    <p class="lead">Plan lists, coordinate logistics, staff with the right skills and improve with analytics. Everything in one flow.</p>
    <a class="cta" href="#contact">Try it now</a>

    <!-- Static avatar + rotating text -->
    <div class="callout" aria-label="Key benefits">
      <div class="avatar-fixed">
        <img src="avatar1.png" alt="Theatre professional in scrubs pointing right">
      </div>
      <div class="slides" id="text-rotator">
        <article class="slide is-on">
          <div class="kicker">Workforce</div>
          <h3>Rules-based rostering and skills, right staff for the list</h3>
          <p>Profiles, competencies and leave are part of the pairing logic.</p>
        </article>
        <article class="slide">
          <div class="kicker">Services</div>
          <h3>Live digiboard and delay capture, turnaround you can act on</h3>
          <p>Procedure cards and quick capture drive same-day improvements.</p>
        </article>
        <article class="slide">
          <div class="kicker">Logistics</div>
          <h3>Trays, implants and consumables, no missing kit</h3>
          <p>Requests, trackers and inventory in one place so cases start on time.</p>
        </article>
        <article class="slide">
          <div class="kicker">Education</div>
          <h3>Training and appraisals, evidence ready</h3>
          <p>Attendance, mentorship and sign-off recorded with rotations.</p>
        </article>
        <article class="slide">
          <div class="kicker">Communication</div>
          <h3>Announcements and Teams, everyone in sync</h3>
          <p>Send the right update to the right people without context switching.</p>
        </article>
        <article class="slide">
          <div class="kicker">Improvement</div>
          <h3>Analytics and exports, go from audit to action</h3>
          <p>Publish metrics you can defend, then close the loop with owners.</p>
        </article>
      </div>
    </div>
  </div>
  <div class="hero__glow" aria-hidden="true"></div>
</section>

<!-- Live Ops ticker -->
<div class="liveops" aria-label="Live operations updates">
  <div class="wrap">
    <div class="ticker" aria-hidden="true">
      <div class="tick"><span class="dot"></span><span class="time">09:07</span> List 2 delayed 9m, kit locating</div>
      <div class="tick"><span class="dot" style="background:var(--amber)"></span><span class="time">09:11</span> Tray released to theatres</div>
      <div class="tick"><span class="dot" style="background:var(--green)"></span><span class="time">09:13</span> Turnaround action logged</div>
      <div class="tick"><span class="dot"></span><span class="time">09:18</span> Next case prepped, ETA 3m</div>

      <div class="tick"><span class="dot"></span><span class="time">09:07</span> List 2 delayed 9m, kit locating</div>
      <div class="tick"><span class="dot" style="background:var(--amber)"></span><span class="time">09:11</span> Tray released to theatres</div>
      <div class="tick"><span class="dot" style="background:var(--green)"></span><span class="time">09:13</span> Turnaround action logged</div>
      <div class="tick"><span class="dot"></span><span class="time">09:18</span> Next case prepped, ETA 3m</div>
    </div>
  </div>
</div>

<!-- Outcomes -->
<section class="wrap" id="outcomes" aria-label="Outcomes">
  <div class="section-head">
    <h2>What improves with MEDASKCA</h2>
    <p>From week one to quarter one, visible change you can measure.</p>
  </div>
  <div class="stats">
    <div class="stat"><strong>↑ 12–18%</strong><span>Theatre utilisation</span></div>
    <div class="stat"><strong>↓ 25–40%</strong><span>Turnaround variance</span></div>
    <div class="stat"><strong>− 9m</strong><span>Average first-case delay</span></div>
  </div>
</section>

<!-- Solutions by role (renamed) -->
<section class="wrap" id="solutions" aria-label="Solutions">
  <div class="section-head">
    <h2>Solutions by role</h2>
    <p>Each lane is focused. No overlap, no noise.</p>
  </div>

  <div class="tabs" role="tablist" aria-label="Role navigation">
    <button class="tab" role="tab" aria-selected="true" aria-controls="p1" id="t1">Manager/Coordinator</button>
    <button class="tab" role="tab" aria-selected="false" aria-controls="p2" id="t2">Theatre Staff</button>
    <button class="tab" role="tab" aria-selected="false" aria-controls="p3" id="t3">Scheduler</button>
    <button class="tab" role="tab" aria-selected="false" aria-controls="p4" id="t4">Surgeon</button>
    <button class="tab" role="tab" aria-selected="false" aria-controls="p5" id="t5">Ops / Performance</button>
  </div>

  <div class="panels">
    <div class="panel is-on" id="p1" role="tabpanel" aria-labelledby="t1">
      <div class="grid">
        <div class="card in"><h3>See delays as they happen</h3><p>Live digiboard, quick reasons, escalation that moves the day forward.</p></div>
        <div class="card in"><h3>Move resources fast</h3><p>Cross-list view, swap and cover tools, messaging in one place.</p></div>
      </div>
    </div>
    <div class="panel" id="p2" role="tabpanel" aria-labelledby="t2">
      <div class="grid">
        <div class="card in"><h3>Skills and banding aware</h3><p>Profiles, competencies and leave connect to rostering decisions.</p></div>
        <div class="card in"><h3>Training and supervision</h3><p>Mentorship and appraisals recorded with rotations.</p></div>
      </div>
    </div>
    <div class="panel" id="p3" role="tabpanel" aria-labelledby="t3">
      <div class="grid">
        <div class="card in"><h3>Procedure cards and directory</h3><p>Standard set-up reduces avoidable delays.</p></div>
        <div class="card in"><h3>Conflicts and substitutions</h3><p>Find clashes and make safe changes with an audit trail.</p></div>
      </div>
    </div>
    <div class="panel" id="p4" role="tabpanel" aria-labelledby="t4">
      <div class="grid">
        <div class="card in"><h3>On-mobile theatre comms</h3><p>Know when to head down and share updates instantly.</p></div>
        <div class="card in"><h3>Clinic to theatre</h3><p>Request kit and implants, see readiness at a glance.</p></div>
      </div>
    </div>
    <div class="panel" id="p5" role="tabpanel" aria-labelledby="t5">
      <div class="grid">
        <div class="card in"><h3>Operational analytics</h3><p>Turnaround, delays, utilisation and exports for boards.</p></div>
        <div class="card in"><h3>From audit to action</h3><p>Notes, owners and due dates live in the workflow.</p></div>
      </div>
    </div>
  </div>
</section>

<!-- Six pillars -->
<section class="wrap" id="features" aria-label="Features">
  <div class="section-head">
    <h2>Plan, run and improve</h2>
    <p>Six pillars, one platform.</p>
  </div>
  <div class="grid">
    <article class="card"><h3>Workforce</h3><p>Skills-aware rostering, profiles and leave. Pair scrub teams without duplicates.</p></article>
    <article class="card"><h3>Services</h3><p>Digiboard, procedure cards and real-time logging for faster days.</p></article>
    <article class="card"><h3>Logistics</h3><p>Requests and trackers with inventory, trays, implants and devices.</p></article>
    <article class="card"><h3>Education</h3><p>Training dates, attendance, mentorship and appraisals in one place.</p></article>
    <article class="card"><h3>Communication</h3><p>Announcements and Teams integration so updates reach the right people.</p></article>
    <article class="card"><h3>Improvement</h3><p>Analytics, exports and integrations that turn data into action.</p></article>
  </div>
</section>

<!-- Integrations & Security -->
<section class="wrap" id="trust" aria-label="Integrations and security">
  <div class="section-head">
    <h2>Works with your stack, meets NHS governance</h2>
    <p>Start simple with Teams and spreadsheet import. Expand to EPR when you are ready.</p>
  </div>
  <div class="two">
    <div class="card in">
      <h3>Integrations</h3>
      <ul class="list">
        <li>Microsoft Teams announcements and notifications</li>
        <li>Spreadsheet import for lists, rosters and profiles</li>
        <li>EPR or PAS connection on the roadmap</li>
        <li>Single Sign-On (Entra ID)</li>
      </ul>
    </div>
    <div class="card in">
      <h3>Security and compliance</h3>
      <ul class="list">
        <li>UK data residency, encryption in transit and at rest</li>
        <li>Access controls, roles and audit logs</li>
        <li>DSPT and ISO 27001 status available</li>
        <li>Incident reporting and DPA support</li>
      </ul>
    </div>
  </div>
</section>

<!-- Testimonials -->
<section class="wrap" id="stories" aria-label="Testimonials">
  <div class="section-head">
    <h2>Teams feel the momentum</h2>
    <p>Small actions every day, results in the month.</p>
  </div>
  <div class="quotes">
    <blockquote class="quote">“The digiboard turned delays into actions. Turnaround fell in weeks.”
      <footer>— Theatre Manager, Acute Trust</footer>
    </blockquote>
    <blockquote class="quote">“Staffing reflects skills mix. Pairing scrub teams is no longer guesswork.”
      <footer>— Matron, Theatres</footer>
    </blockquote>
    <blockquote class="quote">“Exports made the board pack painless. The ‘so what’ is obvious now.”
      <footer>— Performance Lead</footer>
    </blockquote>
  </div>
</section>

<!-- FAQ -->
<section class="wrap" id="faq" aria-label="Frequently asked questions">
  <div class="section-head">
    <h2>FAQ</h2>
    <p>Quick answers to the common questions.</p>
  </div>
  <details><summary>Can we start without EPR integration?</summary><p>Yes. Begin with Teams and spreadsheet import to prove value. Connect to EPR or PAS later.</p></details>
  <details><summary>How much IT effort is needed?</summary><p>Minimal to start: SSO and Teams. Deeper integrations can follow.</p></details>
  <details><summary>How is data protected?</summary><p>UK residency, encryption in transit and at rest, access controls and audit logs. DSPT and ISO 27001 status available.</p></details>
  <details><summary>Does this replace our rostering system?</summary><p>No. MEDASKCA layers workflows and insights on top of your core systems.</p></details>
</section>

<!-- Footer -->
<footer class="footer" id="contact" aria-label="Footer">
  <div class="wrap footer-grid">
    <div>
      <h4>Community</h4>
      <a href="#">Microsoft Teams</a>
      <a href="#">NHS Futures</a>
      <a href="#">Digital Health Networks</a>
      <a href="#">Knowledge base</a>
    </div>
    <div>
      <h4>Partners and events</h4>
      <a href="#">NHS Future Surgery</a>
      <a href="#">HETT</a>
      <a href="#">Confed Expo</a>
    </div>
    <div>
      <h4>Compliance</h4>
      <a href="#">ISO 27001</a>
      <a href="#">NHS DSPT</a>
      <a href="#">UK GDPR and NHS Data Security</a>
    </div>
    <div>
      <h4>Support</h4>
      <a href="#">Contact</a>
      <a href="#">FAQs</a>
      <a href="#">Report an incident</a>
    </div>
  </div>
</footer>

<script>
  // Text-only rotation
  (function(){
    const slides = Array.from(document.querySelectorAll('#text-rotator .slide'));
    let i = 0;
    function next(){
      slides[i].classList.remove('is-on');
      i = (i + 1) % slides.length;
      slides[i].classList.add('is-on');
    }
    slides[0].classList.add('is-on');
    setInterval(next, 3400);
  })();

  // Tabs (Solutions)
  (function(){
    const tabs = [...document.querySelectorAll('.tab')];
    const panels = [...document.querySelectorAll('.panel')];
    function setActive(idx){
      tabs.forEach((t,i)=>{ t.setAttribute('aria-selected', i===idx); t.tabIndex = i===idx? 0 : -1; });
      panels.forEach((p,i)=>p.classList.toggle('is-on', i===idx));
    }
    tabs.forEach((t,i)=> t.addEventListener('click', ()=> setActive(i)));
    tabs.forEach((t,i)=> t.addEventListener('keydown', e=>{
      if(e.key==='ArrowRight'){ e.preventDefault(); setActive((i+1)%tabs.length); }
      if(e.key==='ArrowLeft'){ e.preventDefault(); setActive((i+tabs.length-1)%tabs.length); }
    }));
  })();

  // Reveal cards on scroll
  (function(){
    const cards = document.querySelectorAll('.card');
    const obs = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          const i = [...cards].indexOf(e.target);
          e.target.style.transitionDelay = (i % 3) * 80 + 'ms';
          e.target.classList.add('in');
          obs.unobserve(e.target);
        }
      });
    }, { threshold:.25 });
    cards.forEach(c=>obs.observe(c));
  })();

  // Theme toggle (realistic bulb) with persistence + aria
  (function(){
    const btn = document.getElementById('themeBtn');
    const key = 'medaskca-theme';
    const stored = localStorage.getItem(key);
    if(stored){ document.body.setAttribute('data-theme', stored); }
    else if(window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches){
      document.body.setAttribute('data-theme','light');
    } else {
      document.body.setAttribute('data-theme','dark');
    }
    updateBtnAria();

    btn.addEventListener('click', ()=>{
      const next = document.body.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
      document.body.setAttribute('data-theme', next);
      localStorage.setItem(key, next);
      updateBtnAria();
    });

    function updateBtnAria(){
      const isLight = document.body.getAttribute('data-theme') === 'light';
      btn.setAttribute('aria-pressed', String(isLight));
      btn.setAttribute('aria-label', isLight ? 'Switch to dark theme' : 'Switch to light theme');
      btn.title = isLight ? 'Dark mode' : 'Light mode';
    }
  })();
</script>
</body>
</html>
